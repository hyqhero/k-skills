---
name: vibe-requirement-optimizer
description: 面向编程小白的Vibe需求优化技能，帮助用户将模糊的想法转化为清晰的技术方案，选择合适的技术框架，并生成规范的需求文档，避免因需求不清或技术栈选择错误导致的开发失败。
---

# Vibe编程需求优化技能

## 任务目标
- 本技能用于：将编程小白的模糊想法转化为可落地的技术方案
- 能力包含：需求澄清、技术框架选择对比、环境检查与安装指导、需求文档生成
- 触发条件：用户表达想要开发某个应用/功能，但不知道如何描述需求或选择技术栈

## 前置准备
无需额外依赖，所有工具已内置

## 操作步骤

### 标准流程（4步）

#### 第0步：评估用户技术水平（新增）
- **执行方式**：智能体主导，对话式评估
- **关键动作**：
  1. 询问用户的编程经验和技术背景
  2. 判断用户属于哪个技术水平等级：
     - **等级0：完全编程小白**（从未写代码，不懂编程概念）
     - **等级1：有一定编程基础**（学过语法，有简单项目经验，听说过AI编程）
     - **等级2：有丰富编程经验**（熟悉语言，有完整项目经验）
  3. 根据技术水平调整后续方案推荐策略
- **核心原则**：
  - 完全小白：推荐无代码/低代码方案，避免数据库安装
  - 有基础：推荐云数据库（如Supabase），避免本地配置
  - 有经验：可以推荐完整技术栈（本地数据库、复杂框架）
- **示例问题**：
  - "你之前有写过代码吗？"
  - "了解Python、JavaScript这些编程语言吗？"
  - "听说过AI编程工具（如GitHub Copilot、Cursor）吗？"
  - "有做过什么小项目吗？"

#### 第1步：理解需求和意图
- **执行方式**：智能体主导，通过多轮对话完成
- **关键动作**：
  1. 询问用户想要开发什么功能/应用
  2. 引导用户用简单语言描述核心功能（避免技术术语）
  3. 识别需求中的关键疑问点，主动向用户确认
  4. 提炼核心功能点（不超过3-5个），去除非必要需求
- **核心原则**：
  - 避免过度设计，聚焦最小可用功能（MVP）
  - 使用自然语言，避免技术术语
  - 控制需求复杂度，确保开发难度适中
- **示例问题**：
  - "这个应用最核心的功能是什么？"
  - "你希望用户用它来解决什么问题？"
  - "哪些功能是一开始就需要的，哪些可以后续添加？"

#### 第2步：选择技术框架并对比
- **执行方式**：智能体主导，参考 [framework-guide.md](references/framework-guide.md)
- **关键动作**：
  1. 根据需求场景和用户技术水平匹配适合的技术栈
  2. 选择2个最合适的技术框架进行对比
  3. 对比维度：开发难度、学习曲线、功能完整性、社区支持、部署复杂度、数据存储方案
  4. **根据用户技术水平调整推荐策略**：
     - **完全小白**：优先推荐无代码方案（多维表格、Notion、Airtable）
     - **有基础用户**：推荐云数据库（Supabase优先），避免本地安装
     - **有经验用户**：推荐完整技术栈（本地PostgreSQL、复杂框架）
  5. 向用户展示对比结果，推荐首选方案（考虑用户的技术水平和上手难度）
- **输出格式**：
  ```
  方案A：[框架名称]
  - 优点：[2-3个核心优点]
  - 缺点：[1-2个主要缺点]
  - 适合场景：[1句话说明]

  方案B：[框架名称]
  - 优点：[2-3个核心优点]
  - 缺点：[1-2个主要缺点]
  - 适合场景：[1句话说明]

  推荐方案：[方案A/B]
  理由：[从学习成本和上手难度角度]
  ```

#### 第3步：环境检查与安装指导
- **执行方式**：混合模式（脚本+智能体）
- **关键动作**：
  1. 调用 `scripts/check_env.py` 检查当前系统环境（脚本会自动检测操作系统：Windows/macOS/Linux）
  2. 根据选择的技术栈，判断是否需要安装额外组件
  3. 调用 `scripts/install_env.py --framework <框架名称>` 生成对应平台的安装命令
  4. 脚本会自动根据操作系统生成合适的安装命令（例如：Windows使用Chocolatey，macOS使用Homebrew，Linux使用apt/yum/dnf）
  5. 询问用户是否需要协助安装，如果需要则提供命令并引导执行
- **注意事项**：
  - 仅提供安装命令，不自动执行（避免权限问题）
  - 提供清晰的安装步骤说明
  - 如果自动检测操作系统失败，可以手动指定 `--platform` 参数（windows/macos/linux）
  - 如果用户选择不安装，记录依赖缺失项，在需求文档中标注

#### 第4步：生成需求文档
- **执行方式**：智能体主导，参考 [requirement-template.md](references/requirement-template.md)
- **关键动作**：
  1. 整合前三步的信息
  2. 按照模板结构生成完整的Markdown需求文档
  3. 将文档保存到当前目录：`./需求文档_YYYYMMDD.md`
  4. 展示文档内容给用户确认
  5. 提示用户：确认后可基于此文档启动开发
- **文档结构**：
  - 项目概述
  - 核心功能（MVP版本）
  - 技术栈说明
  - 环境要求
  - 开发步骤建议

## 资源索引

### 必要脚本
- [scripts/check_env.py](scripts/check_env.py)：检查系统环境（Python、Node.js、数据库等）
  - 参数：无需参数
  - 输出：JSON格式的环境信息
- [scripts/install_env.py](scripts/install_env.py)：生成环境安装命令
  - 参数：`--framework <框架名称>`
  - 输出：对应的安装命令列表

### 需要脚本执行的场景
- 第3步：环境检查 → 调用 `python scripts/check_env.py`
- 第3步：生成安装命令 → 调用 `python scripts/install_env.py --framework <框架名称>`

### 领域参考
- [references/framework-guide.md](references/framework-guide.md)：技术框架对比参考（何时读取：第0步评估技术水平、第2步选择框架时）
  - 包含：用户技术水平分级、数据存储方案推荐、根据水平推荐完整技术栈
  - 重点：
    - 完全小白 → 多维表格（Notion/Airtable/飞书）
    - 有基础用户 → 云数据库（Supabase优先）
    - 有经验用户 → 本地数据库（PostgreSQL/MySQL）
- [references/requirement-template.md](references/requirement-template.md)：需求文档模板（何时读取：第4步生成文档时）
  - 包含：完整的需求文档结构和占位符，供智能体参考生成

## 注意事项

### 核心原则（强制遵守）
- **避免过度设计**：引导用户聚焦核心功能，一次只做1-2个主要功能
- **根据技术水平调整技术栈**：
  - 完全小白 → 无代码/低代码，避免数据库安装
  - 有基础用户 → 云数据库（Supabase），利用AI编程工具
  - 有经验用户 → 完整技术栈，本地数据库
- **简化技术栈**：优先选择学习曲线平缓、社区文档完善的框架
- **控制复杂度**：避免引入数据库安装、微服务等复杂概念（对小白而言）
- **保护信心**：确保第一个版本能够快速跑起来，避免因技术门槛过高打击用户积极性

### 对话策略
- 使用简单易懂的语言，避免技术术语
- 多用"比如举个例子"的方式帮助用户理解
- 主动澄清模糊需求，不假设用户意图
- 每个步骤完成后询问用户是否满意，再进行下一步

### 常见误区
- ❌ 试图一次性设计完整的功能列表
- ❌ 选择过于前沿或复杂的框架
- ❌ 不考虑用户的实际技术水平
- ✅ 从最小可用功能开始
- ✅ 选择成熟、文档丰富的框架
- ✅ 根据用户技术水平调整方案复杂度

## 使用示例

### 示例1：个人博客（完全小白）
- **功能说明**：开发一个简单的个人博客，支持发布文章
- **执行方式**：智能体主导+环境检查脚本
- **执行过程**：
  0. 评估技术水平：确认是完全编程小白
  1. 询问：博客需要哪些功能？（文章列表、文章详情、后台发布）
  2. 框架选择：对比Hexo（静态）vs Jekyll（静态），推荐Hexo
  3. 数据存储：无需数据库（静态博客）
  4. 环境检查：检查Node.js环境，生成Hexo安装命令
  5. 生成文档：输出Markdown需求文档

### 示例2：待办事项应用（完全小白）
- **功能说明**：开发一个简单的待办事项管理应用
- **用户水平**：完全编程小白
- **执行方式**：智能体主导+环境检查脚本
- **执行过程**：
  0. 评估技术水平：确认是完全编程小白
  1. 询问：待办事项需要哪些功能？（添加、删除、标记完成）
  2. 框架选择：推荐Tkinter（简单）或Streamlit（Web）
  3. 数据存储：推荐**多维表格**（Notion/Airtable/飞书），避免本地数据库
  4. 环境检查：检查Python环境，提供安装指导
  5. 生成文档：输出Markdown需求文档，包含多维表格集成说明

### 示例3：用户管理系统（有基础用户）
- **功能说明**：开发一个包含用户注册、登录、数据管理的Web应用
- **用户水平**：有一定编程基础，听说过AI编程工具
- **执行方式**：智能体主导+环境检查脚本
- **执行过程**：
  0. 评估技术水平：确认有基础，可以使用AI编程工具
  1. 询问：需要哪些功能？（注册、登录、CRUD操作）
  2. 框架选择：推荐Flask或FastAPI
  3. 数据存储：**强烈推荐Supabase**（PostgreSQL云数据库）
     - 理由：无需安装本地数据库，注册即用
     - 提供完整的认证、存储、实时功能
     - 可以使用AI工具（Cursor/Copilot）快速生成代码
  4. 环境检查：检查Python环境，提供库安装命令
  5. 生成文档：输出Markdown需求文档，包含Supabase集成说明

### 示例4：数据统计工具（有基础用户）
- **功能说明**：开发一个统计Excel数据的工具
- **用户水平**：有一定编程基础
- **执行方式**：智能体主导+环境检查脚本
- **执行过程**：
  0. 评估技术水平：确认有基础
  1. 询问：统计数据的目标是什么？（求和、平均值、图表展示）
  2. 框架选择：对比Python+pandas（脚本）vs Streamlit（Web应用）
  3. 数据存储：如果需要保存结果，推荐**Supabase**或简单的本地SQLite
  4. 环境检查：检查Python环境，提供库安装命令
  5. 生成文档：输出Markdown需求文档
